"use strict";(self.webpackChunk_sima_land_moleculas=self.webpackChunk_sima_land_moleculas||[]).push([[4479],{"./node_modules/@sima-land/ui-nucleons/helpers/media-query-list.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribe=void 0,exports.subscribe=function subscribe(mql,fn){return mql.addEventListener?mql.addEventListener("change",fn):mql.addListener&&mql.addListener(fn),{unsubscribe:()=>{mql.removeEventListener?mql.removeEventListener("change",fn):mql.removeListener&&mql.removeListener(fn)}}}},"./node_modules/@sima-land/ui-nucleons/hooks/intersection/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.s=void 0;const react_1=__webpack_require__("./node_modules/react/index.js"),identity_1=__webpack_require__("./node_modules/@sima-land/ui-nucleons/hooks/identity.js");exports.s=function useIntersection(ref,callback,options){const callbackRef=(0,identity_1.useIdentityRef)(callback);(0,react_1.useEffect)((()=>{const element=ref.current;if(element){const observer=new IntersectionObserver((([entry])=>{var _a;null===(_a=callbackRef.current)||void 0===_a||_a.call(callbackRef,entry)}),options);return observer.observe(element),()=>observer.disconnect()}}),[ref,callbackRef,options])}},"./node_modules/@sima-land/ui-nucleons/hooks/media.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.G=void 0;const react_1=__webpack_require__("./node_modules/react/index.js"),media_query_list_1=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/media-query-list.js");exports.G=query=>{const[matches,setMatches]=(0,react_1.useState)(!1);return(0,react_1.useEffect)((()=>{const mql=window.matchMedia(query);return setMatches(mql.matches),(0,media_query_list_1.subscribe)(mql,(event=>{setMatches(event.matches)})).unsubscribe}),[query]),matches}},"./node_modules/@sima-land/ui-quarks/icons/24x24/Filled/Favorite.js":(__unused_webpack_module,exports,__webpack_require__)=>{const jsx_runtime_1=__webpack_require__("./node_modules/react/jsx-runtime.js"),ForwardRef=(0,__webpack_require__("./node_modules/react/index.js").forwardRef)(((props,ref)=>(0,jsx_runtime_1.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",ref,...props,children:(0,jsx_runtime_1.jsx)("path",{d:"M19.657 4.01C17.018 2.174 13.76 3.031 12 5.132c-1.759-2.1-5.018-2.968-7.657-1.122-1.4.98-2.279 2.632-2.339 4.376-.14 3.958 3.299 7.13 8.547 11.996l.1.091c.76.704 1.93.704 2.689-.01l.11-.102c5.248-4.855 8.676-8.027 8.546-11.985-.06-1.734-.94-3.386-2.339-4.366Z"})})));exports.Z=ForwardRef},"./src/desktop/components/product-carousel/__stories__/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Adult:()=>Adult,CustomItemSize:()=>CustomItemSize,DeferredData:()=>DeferredData,FewItems:()=>FewItems,Primary:()=>Primary,Unavailable:()=>Unavailable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),carousel=__webpack_require__("./node_modules/@sima-land/ui-nucleons/carousel/index.js"),utils=__webpack_require__("./node_modules/@sima-land/ui-nucleons/with-tooltip/utils.js"),product_info=__webpack_require__("./src/common/components/product-info/index.tsx"),bind=__webpack_require__("./node_modules/classnames/bind.js"),bind_default=__webpack_require__.n(bind),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),hover_card_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/product-carousel/hover-card.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(hover_card_module.Z,options);const product_carousel_hover_card_module=hover_card_module.Z&&hover_card_module.Z.locals?hover_card_module.Z.locals:void 0;var shapes=__webpack_require__("./node_modules/@sima-land/ui-nucleons/styling/shapes.js"),shadows=__webpack_require__("./node_modules/@sima-land/ui-nucleons/styling/shadows.js"),product_card=__webpack_require__("./src/desktop/components/product-card/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const cx=bind_default().bind(product_carousel_hover_card_module),HoverCard=({targetRef,onMouseLeave,...productInfoProps})=>{const rootRef=(0,react.useRef)(null),[ready,setReady]=(0,react.useState)(!1);return(0,react.useLayoutEffect)((()=>{if(targetRef.current&&rootRef.current){const element=rootRef.current,rect=targetRef.current.getBoundingClientRect(),correction=(0,utils.getOriginCorrection)(rootRef.current);element.style.left=correction.x+rect.left-16+"px",element.style.top=correction.y+rect.top-16+"px",element.style.width=`${rect.width+32}px`,setReady(!0)}})),(0,jsx_runtime.jsx)(product_card.zs,{ref:rootRef,style:{padding:"16px 16px 24px 16px"},className:cx("root",!ready&&"hidden",shapes.SmallRounds.all,shadows.BoxShadow.z4),onMouseLeave:()=>{setReady(!1),onMouseLeave&&onMouseLeave()},children:(0,jsx_runtime.jsx)(product_info.ww,{...productInfoProps})})};HoverCard.displayName="HoverCard";try{HoverCard.displayName="HoverCard",HoverCard.__docgenInfo={description:"Карточка товара, появляющаяся над элементом карусели.",displayName:"HoverCard",props:{targetRef:{defaultValue:null,description:"",name:"targetRef",required:!0,type:{name:"RefObject<HTMLElement | null>"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"(() => void) | undefined"}},restriction:{defaultValue:null,description:"Ограничение товара. Влияет на отображение информации.",name:"restriction",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"adult"'},{value:'"unavailable"'}]}},children:{defaultValue:null,description:"Содержимое.",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/product-carousel/hover-card.tsx#HoverCard"]={docgenInfo:HoverCard.__docgenInfo,name:"HoverCard",path:"src/desktop/components/product-carousel/hover-card.tsx#HoverCard"})}catch(__react_docgen_typescript_loader_error){}var intersection=__webpack_require__("./node_modules/@sima-land/ui-nucleons/hooks/intersection/index.js"),media=__webpack_require__("./node_modules/@sima-land/ui-nucleons/hooks/media.js"),product_carousel_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/product-carousel/product-carousel.module.scss"),product_carousel_module_options={};product_carousel_module_options.styleTagTransform=styleTagTransform_default(),product_carousel_module_options.setAttributes=setAttributesWithoutAttributes_default(),product_carousel_module_options.insert=insertBySelector_default().bind(null,"head"),product_carousel_module_options.domAPI=styleDomAPI_default(),product_carousel_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(product_carousel_module.Z,product_carousel_module_options);const product_carousel_product_carousel_module=product_carousel_module.Z&&product_carousel_module.Z.locals?product_carousel_module.Z.locals:void 0;var helpers_layer=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/layer.js");const product_carousel_cx=bind_default().bind(product_carousel_product_carousel_module);function ProductCarousel({className,itemSize={xs:4,s:3,m:2,l:2,xl:2},itemProps,onInViewport,onNeedRequest,withHoverCard,children}){const layer=(0,helpers_layer.useLayer)(),[activeItemIndex,setActiveItemIndex]=(0,react.useState)(null),cardShow=(()=>{const ref=(0,react.useRef)(!0),timerIdRef=(0,react.useRef)(),allowed=(0,react.useCallback)((()=>ref.current),[]),disallowFor=(0,react.useCallback)((timeout=>{window.clearTimeout(timerIdRef.current),ref.current=!1,timerIdRef.current=window.setTimeout((()=>ref.current=!0),timeout)}),[]);return(0,react.useRef)({allowed,disallowFor}).current})(),needBigArrows=(0,media.G)("(min-width: 1600px)"),rootRef=(0,react.useRef)(null),targetItemRef=(0,react.useRef)(null),items=react.Children.toArray(children).reduce(((acc,item)=>((0,react.isValidElement)(item)&&item.type===product_info.ww&&acc.push(item),acc)),[]),firstItemRef=(0,react.useRef)(null),itemWidth=((ref,deps=[])=>{const[width,setWidth]=(0,react.useState)(null);return(0,react.useEffect)((()=>{if(!ref.current)return;const element=ref.current,observer=new ResizeObserver((()=>{setWidth(element.clientWidth)}));return observer.observe(ref.current),setWidth(element.clientWidth),observer.disconnect()}),[ref,...deps]),width})(firstItemRef,[items.length]),options=(0,react.useMemo)((()=>({rootMargin:"200px 0px 200px 0px"})),[]);return(0,intersection.s)(rootRef,(entry=>{entry.isIntersecting&&onNeedRequest&&onNeedRequest()}),options),(0,intersection.s)(rootRef,(entry=>{entry.isIntersecting&&onInViewport&&onInViewport()})),(0,jsx_runtime.jsxs)("div",{ref:rootRef,className:product_carousel_cx("root",className),"data-testid":"product-carousel:root",children:[items.length>0&&(0,jsx_runtime.jsx)(carousel.Carousel,{step:3,draggable:!1,items:items.map(((item,index)=>[item,index])),...null!==itemWidth&&{withControls:void 0,controlProps:{size:needBigArrows?"l":"s",style:{zIndex:layer+2,top:itemWidth/2+"px"}}},renderItem:([item,index],realIndex)=>{return(0,jsx_runtime.jsx)(Item,{rootRef:0===realIndex?firstItemRef:void 0,withHoverCard,className:product_carousel_cx((size=itemSize,size&&"unset"!==size?[`size-xs-${size.xs||4}`,`size-s-${size.s||3}`,`size-m-${size.m||2}`,`size-l-${size.l||2}`,`size-xl-${size.xl||2}`]:[]),itemProps?.className),style:itemProps?.style,onMouseEnter:e=>{cardShow.allowed()&&(targetItemRef.current=e.currentTarget,setActiveItemIndex(index))},children:item});var size},onChangeTargetIndex:()=>cardShow.disallowFor(360)}),withHoverCard&&null!==activeItemIndex&&items[activeItemIndex]&&[items[activeItemIndex]].map((item=>(0,jsx_runtime.jsx)(HoverCard,{targetRef:targetItemRef,onMouseLeave:()=>setActiveItemIndex(null),...item.props},activeItemIndex)))]})}function Item({rootRef,className,onMouseEnter,withHoverCard,children,style}){return(0,jsx_runtime.jsx)("div",{ref:rootRef,"data-testid":"product-carousel:item",className:product_carousel_cx("item",className),onMouseEnter,style,children:(0,react.cloneElement)(children,{children:react.Children.toArray(children.props.children).reduce(((list,child)=>{if((0,react.isValidElement)(child))switch(child.type){case product_info.QL.Image:list.push(withHoverCard?(0,react.cloneElement)(child,{children:void 0}):child);break;case product_info.QL.Footer:!withHoverCard&&list.push(child);break;default:list.push(child)}return list}),[])})})}ProductCarousel.displayName="ProductCarousel",Item.displayName="Item";try{ProductCarousel.displayName="ProductCarousel",ProductCarousel.__docgenInfo={description:"Карусель рекомендованных товаров.",displayName:"ProductCarousel",props:{className:{defaultValue:null,description:"CSS-класс для корневого элемента.",name:"className",required:!1,type:{name:"string | undefined"}},children:{defaultValue:null,description:"Элементы карусели.",name:"children",required:!1,type:{name:"ReactNode"}},itemSize:{defaultValue:{value:"{ xs: 4, s: 3, m: 2, l: 2, xl: 2 }"},description:"Настройки размера элемента карусели.",name:"itemSize",required:!1,type:{name:'"unset" | ItemSize | undefined'}},onInViewport:{defaultValue:null,description:"Сработает при попадании карусели во viewport.",name:"onInViewport",required:!1,type:{name:"(() => void) | undefined"}},onNeedRequest:{defaultValue:null,description:"Сработает при попадании карусели в область достаточно близкую к viewport'у.",name:"onNeedRequest",required:!1,type:{name:"(() => void) | undefined"}},withHoverCard:{defaultValue:null,description:"Нужно ли показывать всплывающую карточку при наведении на элемент карусели.",name:"withHoverCard",required:!1,type:{name:"boolean | undefined"}},itemProps:{defaultValue:null,description:"Предоставит свойства для элемента карусели.",name:"itemProps",required:!1,type:{name:"{ style?: CSSProperties | undefined; className?: string | undefined; } | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/product-carousel/index.tsx#ProductCarousel"]={docgenInfo:ProductCarousel.__docgenInfo,name:"ProductCarousel",path:"src/desktop/components/product-carousel/index.tsx#ProductCarousel"})}catch(__react_docgen_typescript_loader_error){}var components_badge=__webpack_require__("./src/common/components/badge/index.tsx"),layout=__webpack_require__("./node_modules/@sima-land/ui-nucleons/layout/index.js"),stepper=__webpack_require__("./node_modules/@sima-land/ui-nucleons/stepper/index.js"),ui_nucleons_button=__webpack_require__("./node_modules/@sima-land/ui-nucleons/button/index.js"),colors=__webpack_require__("./node_modules/@sima-land/ui-nucleons/colors/index.js"),Favorite=__webpack_require__("./node_modules/@sima-land/ui-quarks/icons/24x24/Filled/Favorite.js"),Stroked_Favorite=__webpack_require__("./node_modules/@sima-land/ui-quarks/icons/24x24/Stroked/Favorite.js");const items=[{name:"Ножницы портновские, 19 см, цвет чёрный",imageSrc:"https://cdn3.static1-sima-land.com/items/3572134/0/280.jpg?v=1594121833",url:"https://www.sima-land.ru/",price:261,currencyGrapheme:"₽",oldPrice:void 0},{name:"Ткань тюлевая, ширина 300 см, сетка",imageSrc:"https://cdn3.static1-sima-land.com/items/4661073/0/1600.jpg?v=1604914605",url:"https://www.sima-land.ru/",price:495,currencyGrapheme:"₽",oldPrice:void 0,trademark:{name:'Торговая марка "Сима-ленд"',url:"https://www.sima-land.ru/"}},{name:"Ножницы портновские, 21,5 см, цвет чёрный/голубой",imageSrc:"https://cdn3.static1-sima-land.com/items/2300383/0/280.jpg?v=1594121773",url:"https://www.sima-land.ru/",price:238,currencyGrapheme:"₽",oldPrice:void 0,badges:[{color:"#b52ea8",fields:[{type:"text",value:"-56%"}]},{color:"#ff7200",fields:[{type:"text",value:"3 по цене 2"}]},{color:"#2962ff",fields:[{type:"text",value:"Товар месяца"}]},{color:"#00b8d4",fields:[{type:"text",value:"Акция"}]}]},{name:"Ножницы портновские, 23 см, цвет МИКС",imageSrc:"https://cdn3.static1-sima-land.com/items/1550239/0/280.jpg?v=1600179085",url:"https://www.sima-land.ru/",price:171,currencyGrapheme:"₽",oldPrice:void 0},{name:"Ножницы портновские, одинаковые кольца, 23 см, цвет чёрный",imageSrc:"https://cdn3.static1-sima-land.com/items/4002852/0/280.jpg?v=1594121894",url:"https://www.sima-land.ru/",price:483,currencyGrapheme:"₽",oldPrice:void 0},{name:"Ножницы портновские, 22,5 см, цвет чёрный",imageSrc:"https://cdn3.static1-sima-land.com/items/4005918/0/280.jpg?v=1594121898",url:"https://www.sima-land.ru/",price:988,currencyGrapheme:"₽",oldPrice:void 0},{name:"Ножницы портновские, 22 см, цвет серебряный",imageSrc:"https://cdn3.static1-sima-land.com/items/2300389/0/280.jpg?v=1594121830",url:"https://www.sima-land.ru/",price:619,currencyGrapheme:"₽",oldPrice:void 0},{name:"Ножницы портновские, с увеличенным углом наклона, 27 см, цвет чёрный",imageSrc:"https://cdn3.static1-sima-land.com/items/2117838/0/280.jpg?v=1594121766",url:"https://www.sima-land.ru/",price:539,currencyGrapheme:"₽",oldPrice:595},{name:"Ножницы портновские, с прорезиненной ручкой, 20 см, цвет чёрный/серый",imageSrc:"https://cdn3.static1-sima-land.com/items/1108673/0/280.jpg?v=1594103956",url:"https://www.sima-land.ru/",price:599,currencyGrapheme:"₽",oldPrice:717},{name:"Ножницы портновские, скошенное лезвие, 15 см, цвет серебряный",imageSrc:"https://cdn3.static1-sima-land.com/items/4150936/0/280.jpg?v=1580193932",url:"https://www.sima-land.ru/",price:253,currencyGrapheme:"₽",oldPrice:void 0}];const index_stories={title:"desktop/ProductCarousel",component:ProductCarousel,parameters:{storySource:{source:"import { ProductCarousel } from '@sima-land/moleculas/desktop/components/product-carousel';\nimport { ProductInfo, Parts } from '@sima-land/moleculas/common/components/product-info';\nimport { Badge } from '@sima-land/moleculas/common/components/badge';\nimport { ReactNode, useState } from 'react';\nimport { Layout } from '@sima-land/ui-nucleons/layout';\nimport { Stepper } from '@sima-land/ui-nucleons/stepper';\nimport { Button } from '@sima-land/ui-nucleons/button';\nimport { COLORS } from '@sima-land/ui-nucleons/colors';\nimport FavSVG from '@sima-land/ui-quarks/icons/24x24/Filled/Favorite';\nimport NotFavSVG from '@sima-land/ui-quarks/icons/24x24/Stroked/Favorite';\nimport { items } from '../__test__/test-items';\nexport default {\n  title: 'desktop/ProductCarousel',\n  component: ProductCarousel,\n  parameters: {\n    layout: 'fullscreen',\n    docs: {\n      description: {\n        component: 'Компонент карусели рекомендаций'\n      }\n    }\n  }\n};\nconst Placeholder = () => <div style={{\n  borderRadius: 4,\n  background: '#eee',\n  height: 40,\n  margin: '20px 0'\n}} />;\nconst DemoBlock = ({\n  children\n}: {\n  children: ReactNode;\n}) => <Layout>\n    <Placeholder />\n    {children}\n    <Placeholder />\n  </Layout>;\nexport const Primary = () => {\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\n  return <DemoBlock>\n      <ProductCarousel withHoverCard>\n        {items.map((item, index) => <ProductInfo key={index}>\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар (изображение)');\n        }}>\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? 'Убрать из избранного' : 'Добавить в избранное'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\n            toggleWish(s => ({\n              ...s,\n              [index]: !s[index]\n            }));\n            console.log('Клик: добавить в избранное');\n          }} data-testid='favorite-button' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n            <Parts.Title href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар');\n        }}>\n              {item.name}\n            </Parts.Title>\n\n            <Parts.RatingCounter value={4.7} reviewCount={52} />\n\n            <Parts.Footer>\n              <Parts.CartControl stepText='По 5 шт' markupText='Комплектация + 50 ₽ при покупке до 20 шт'>\n                <Stepper defaultValue={3} size='s' style={{\n              width: '122px'\n            }} />\n              </Parts.CartControl>\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </DemoBlock>;\n};\nPrimary.storyName = 'Простой пример';\nexport const Unavailable = () => {\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\n  return <DemoBlock>\n      <ProductCarousel withHoverCard>\n        {items.map((item, index) => <ProductInfo key={index} restriction='unavailable'>\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар (изображение)');\n        }}>\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? 'Убрать из избранного' : 'Добавить в избранное'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\n            toggleWish(s => ({\n              ...s,\n              [index]: !s[index]\n            }));\n            console.log('Клик: добавить в избранное');\n          }} data-testid='favorite-button' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} unavailableReason='Товара нет в наличии' />\n\n            <Parts.Title href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар');\n        }}>\n              {item.name}\n            </Parts.Title>\n\n            <Parts.Footer>\n              <Parts.WaitListAddButton onClick={() => console.log('Клик: добавление в лист ожидания')} />\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </DemoBlock>;\n};\nUnavailable.storyName = 'Нет в наличии';\nexport const Adult = () => <DemoBlock>\n    <ProductCarousel withHoverCard>\n      {items.map((item, index) => <ProductInfo key={index} restriction='adult'>\n          <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар (изображение)');\n      }} />\n\n          <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n          <Parts.Title href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар');\n      }}>\n            {item.name}\n          </Parts.Title>\n\n          <Parts.Footer>\n            <Parts.AdultConfirmButton onClick={() => console.log('Клик: подтверждение возраста')} />\n          </Parts.Footer>\n        </ProductInfo>)}\n    </ProductCarousel>\n  </DemoBlock>;\nAdult.storyName = 'Товары для взрослых';\nexport const DeferredData = () => {\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\n  const [ready, setReady] = useState<boolean>(false);\n  return <DemoBlock>\n      <Button onClick={() => setReady(true)} size='s' style={{\n      marginBottom: 20\n    }}>\n        Загрузить\n      </Button>\n\n      <ProductCarousel withHoverCard>\n        {(ready ? items : []).map((item, index) => <ProductInfo key={index}>\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар (изображение)');\n        }}>\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? 'Убрать из избранного' : 'Добавить в избранное'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\n            toggleWish(s => ({\n              ...s,\n              [index]: !s[index]\n            }));\n            console.log('Клик: добавить в избранное');\n          }} data-testid='favorite-button' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n            <Parts.Title href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар');\n        }}>\n              {item.name}\n            </Parts.Title>\n\n            <Parts.Footer>\n              <Parts.CartControl stepText='По 5 шт' markupText='Комплектация + 50 ₽ при покупке до 20 шт'>\n                <Stepper defaultValue={3} size='s' style={{\n              width: '122px'\n            }} />\n              </Parts.CartControl>\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </DemoBlock>;\n};\nDeferredData.storyName = 'Тест: загрузка после mount';\nexport const FewItems = () => <DemoBlock>\n    <ProductCarousel withHoverCard>\n      {items.slice(0, 4).map((item, index) => <ProductInfo key={index}>\n          <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар (изображение)');\n      }}>\n            <Parts.ImageButton icon={NotFavSVG} hint='Добавить в избранное' data-testid='favorite-button' />\n          </Parts.Image>\n\n          {item.badges && <Parts.Badges lineLimit={1}>\n              {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n            </Parts.Badges>}\n\n          <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n          <Parts.Title href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар');\n      }}>\n            {item.name}\n          </Parts.Title>\n\n          <Parts.Footer>\n            <Parts.CartControl stepText='По 5 шт' markupText='Комплектация + 50 ₽ при покупке до 20 шт'>\n              <Stepper defaultValue={3} size='s' style={{\n            width: '122px'\n          }} />\n            </Parts.CartControl>\n          </Parts.Footer>\n        </ProductInfo>)}\n    </ProductCarousel>\n  </DemoBlock>;\nFewItems.storyName = 'Мало товаров для прокрутки';\nexport function CustomItemSize() {\n  return <div style={{\n    margin: '40px',\n    width: '400px'\n  }}>\n      <ProductCarousel withHoverCard itemSize='unset' itemProps={{\n      style: {\n        width: 'calc((400px / 2) - 16px)'\n      }\n    }}>\n        {items.map((item, index) => <ProductInfo key={index}>\n            <Parts.Image src={item.imageSrc} href={item.url}>\n              <Parts.ImageButton icon={NotFavSVG} hint='Добавить в избранное' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n            <Parts.Title href={item.url}>{item.name}</Parts.Title>\n\n            <Parts.Footer>\n              <Parts.CartControl stepText='По 5 шт'>\n                <Stepper defaultValue={3} size='s' style={{\n              width: '122px'\n            }} />\n              </Parts.CartControl>\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </div>;\n}\nCustomItemSize.storyName = 'Пример: пользовательский размер элемента';\nPrimary.parameters = {\n  ...Primary.parameters,\n  docs: {\n    ...Primary.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\\n  return <DemoBlock>\\n      <ProductCarousel withHoverCard>\\n        {items.map((item, index) => <ProductInfo key={index}>\\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\\n          e.preventDefault();\\n          console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440 (\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435)');\\n        }}>\\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? '\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E' : '\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\\n            toggleWish(s => ({\\n              ...s,\\n              [index]: !s[index]\\n            }));\\n            console.log('\\u041A\\u043B\\u0438\\u043A: \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435');\\n          }} data-testid='favorite-button' />\\n            </Parts.Image>\\n\\n            {item.badges && <Parts.Badges lineLimit={1}>\\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('\\u041A\\u043B\\u0438\\u043A: \\u0448\\u0438\\u043B\\u044C\\u0434\\u0438\\u043A')} />)}\\n              </Parts.Badges>}\\n\\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\\n\\n            <Parts.Title href={item.url} onClick={e => {\\n          e.preventDefault();\\n          console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440');\\n        }}>\\n              {item.name}\\n            </Parts.Title>\\n\\n            <Parts.RatingCounter value={4.7} reviewCount={52} />\\n\\n            <Parts.Footer>\\n              <Parts.CartControl stepText='\\u041F\\u043E 5 \\u0448\\u0442' markupText='\\u041A\\u043E\\u043C\\u043F\\u043B\\u0435\\u043A\\u0442\\u0430\\u0446\\u0438\\u044F + 50 \\u20BD \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0435 \\u0434\\u043E 20 \\u0448\\u0442'>\\n                <Stepper defaultValue={3} size='s' style={{\\n              width: '122px'\\n            }} />\\n              </Parts.CartControl>\\n            </Parts.Footer>\\n          </ProductInfo>)}\\n      </ProductCarousel>\\n    </DemoBlock>;\\n}\",\n      ...Primary.parameters?.docs?.source\n    }\n  }\n};\nUnavailable.parameters = {\n  ...Unavailable.parameters,\n  docs: {\n    ...Unavailable.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\\n  return <DemoBlock>\\n      <ProductCarousel withHoverCard>\\n        {items.map((item, index) => <ProductInfo key={index} restriction='unavailable'>\\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\\n          e.preventDefault();\\n          console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440 (\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435)');\\n        }}>\\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? '\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E' : '\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\\n            toggleWish(s => ({\\n              ...s,\\n              [index]: !s[index]\\n            }));\\n            console.log('\\u041A\\u043B\\u0438\\u043A: \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435');\\n          }} data-testid='favorite-button' />\\n            </Parts.Image>\\n\\n            {item.badges && <Parts.Badges lineLimit={1}>\\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('\\u041A\\u043B\\u0438\\u043A: \\u0448\\u0438\\u043B\\u044C\\u0434\\u0438\\u043A')} />)}\\n              </Parts.Badges>}\\n\\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} unavailableReason='\\u0422\\u043E\\u0432\\u0430\\u0440\\u0430 \\u043D\\u0435\\u0442 \\u0432 \\u043D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0438' />\\n\\n            <Parts.Title href={item.url} onClick={e => {\\n          e.preventDefault();\\n          console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440');\\n        }}>\\n              {item.name}\\n            </Parts.Title>\\n\\n            <Parts.Footer>\\n              <Parts.WaitListAddButton onClick={() => console.log('\\u041A\\u043B\\u0438\\u043A: \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432 \\u043B\\u0438\\u0441\\u0442 \\u043E\\u0436\\u0438\\u0434\\u0430\\u043D\\u0438\\u044F')} />\\n            </Parts.Footer>\\n          </ProductInfo>)}\\n      </ProductCarousel>\\n    </DemoBlock>;\\n}\",\n      ...Unavailable.parameters?.docs?.source\n    }\n  }\n};\nAdult.parameters = {\n  ...Adult.parameters,\n  docs: {\n    ...Adult.parameters?.docs,\n    source: {\n      originalSource: \"() => <DemoBlock>\\n    <ProductCarousel withHoverCard>\\n      {items.map((item, index) => <ProductInfo key={index} restriction='adult'>\\n          <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\\n        e.preventDefault();\\n        console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440 (\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435)');\\n      }} />\\n\\n          <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\\n\\n          <Parts.Title href={item.url} onClick={e => {\\n        e.preventDefault();\\n        console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440');\\n      }}>\\n            {item.name}\\n          </Parts.Title>\\n\\n          <Parts.Footer>\\n            <Parts.AdultConfirmButton onClick={() => console.log('\\u041A\\u043B\\u0438\\u043A: \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0432\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u0430')} />\\n          </Parts.Footer>\\n        </ProductInfo>)}\\n    </ProductCarousel>\\n  </DemoBlock>\",\n      ...Adult.parameters?.docs?.source\n    }\n  }\n};\nDeferredData.parameters = {\n  ...DeferredData.parameters,\n  docs: {\n    ...DeferredData.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\\n  const [ready, setReady] = useState<boolean>(false);\\n  return <DemoBlock>\\n      <Button onClick={() => setReady(true)} size='s' style={{\\n      marginBottom: 20\\n    }}>\\n        \\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C\\n      </Button>\\n\\n      <ProductCarousel withHoverCard>\\n        {(ready ? items : []).map((item, index) => <ProductInfo key={index}>\\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\\n          e.preventDefault();\\n          console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440 (\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435)');\\n        }}>\\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? '\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E' : '\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\\n            toggleWish(s => ({\\n              ...s,\\n              [index]: !s[index]\\n            }));\\n            console.log('\\u041A\\u043B\\u0438\\u043A: \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435');\\n          }} data-testid='favorite-button' />\\n            </Parts.Image>\\n\\n            {item.badges && <Parts.Badges lineLimit={1}>\\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('\\u041A\\u043B\\u0438\\u043A: \\u0448\\u0438\\u043B\\u044C\\u0434\\u0438\\u043A')} />)}\\n              </Parts.Badges>}\\n\\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\\n\\n            <Parts.Title href={item.url} onClick={e => {\\n          e.preventDefault();\\n          console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440');\\n        }}>\\n              {item.name}\\n            </Parts.Title>\\n\\n            <Parts.Footer>\\n              <Parts.CartControl stepText='\\u041F\\u043E 5 \\u0448\\u0442' markupText='\\u041A\\u043E\\u043C\\u043F\\u043B\\u0435\\u043A\\u0442\\u0430\\u0446\\u0438\\u044F + 50 \\u20BD \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0435 \\u0434\\u043E 20 \\u0448\\u0442'>\\n                <Stepper defaultValue={3} size='s' style={{\\n              width: '122px'\\n            }} />\\n              </Parts.CartControl>\\n            </Parts.Footer>\\n          </ProductInfo>)}\\n      </ProductCarousel>\\n    </DemoBlock>;\\n}\",\n      ...DeferredData.parameters?.docs?.source\n    }\n  }\n};\nFewItems.parameters = {\n  ...FewItems.parameters,\n  docs: {\n    ...FewItems.parameters?.docs,\n    source: {\n      originalSource: \"() => <DemoBlock>\\n    <ProductCarousel withHoverCard>\\n      {items.slice(0, 4).map((item, index) => <ProductInfo key={index}>\\n          <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\\n        e.preventDefault();\\n        console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440 (\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435)');\\n      }}>\\n            <Parts.ImageButton icon={NotFavSVG} hint='\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435' data-testid='favorite-button' />\\n          </Parts.Image>\\n\\n          {item.badges && <Parts.Badges lineLimit={1}>\\n              {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('\\u041A\\u043B\\u0438\\u043A: \\u0448\\u0438\\u043B\\u044C\\u0434\\u0438\\u043A')} />)}\\n            </Parts.Badges>}\\n\\n          <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\\n\\n          <Parts.Title href={item.url} onClick={e => {\\n        e.preventDefault();\\n        console.log('\\u041A\\u043B\\u0438\\u043A: \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0442\\u043E\\u0432\\u0430\\u0440');\\n      }}>\\n            {item.name}\\n          </Parts.Title>\\n\\n          <Parts.Footer>\\n            <Parts.CartControl stepText='\\u041F\\u043E 5 \\u0448\\u0442' markupText='\\u041A\\u043E\\u043C\\u043F\\u043B\\u0435\\u043A\\u0442\\u0430\\u0446\\u0438\\u044F + 50 \\u20BD \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0435 \\u0434\\u043E 20 \\u0448\\u0442'>\\n              <Stepper defaultValue={3} size='s' style={{\\n            width: '122px'\\n          }} />\\n            </Parts.CartControl>\\n          </Parts.Footer>\\n        </ProductInfo>)}\\n    </ProductCarousel>\\n  </DemoBlock>\",\n      ...FewItems.parameters?.docs?.source\n    }\n  }\n};\nCustomItemSize.parameters = {\n  ...CustomItemSize.parameters,\n  docs: {\n    ...CustomItemSize.parameters?.docs,\n    source: {\n      originalSource: \"function CustomItemSize() {\\n  return <div style={{\\n    margin: '40px',\\n    width: '400px'\\n  }}>\\n      <ProductCarousel withHoverCard itemSize='unset' itemProps={{\\n      style: {\\n        width: 'calc((400px / 2) - 16px)'\\n      }\\n    }}>\\n        {items.map((item, index) => <ProductInfo key={index}>\\n            <Parts.Image src={item.imageSrc} href={item.url}>\\n              <Parts.ImageButton icon={NotFavSVG} hint='\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435' />\\n            </Parts.Image>\\n\\n            {item.badges && <Parts.Badges lineLimit={1}>\\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} />)}\\n              </Parts.Badges>}\\n\\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\\n\\n            <Parts.Title href={item.url}>{item.name}</Parts.Title>\\n\\n            <Parts.Footer>\\n              <Parts.CartControl stepText='\\u041F\\u043E 5 \\u0448\\u0442'>\\n                <Stepper defaultValue={3} size='s' style={{\\n              width: '122px'\\n            }} />\\n              </Parts.CartControl>\\n            </Parts.Footer>\\n          </ProductInfo>)}\\n      </ProductCarousel>\\n    </div>;\\n}\",\n      ...CustomItemSize.parameters?.docs?.source\n    }\n  }\n};",locationsMap:{primary:{startLoc:{col:23,line:39},endLoc:{col:1,line:82},startBody:{col:23,line:39},endBody:{col:1,line:82}},unavailable:{startLoc:{col:27,line:84},endLoc:{col:1,line:121},startBody:{col:27,line:84},endBody:{col:1,line:121}},adult:{startLoc:{col:21,line:123},endLoc:{col:14,line:145},startBody:{col:21,line:123},endBody:{col:14,line:145}},"deferred-data":{startLoc:{col:28,line:147},endLoc:{col:1,line:195},startBody:{col:28,line:147},endBody:{col:1,line:195}},"few-items":{startLoc:{col:24,line:197},endLoc:{col:14,line:229},startBody:{col:24,line:197},endBody:{col:14,line:229}},"custom-item-size":{startLoc:{col:7,line:231},endLoc:{col:1,line:264},startBody:{col:7,line:231},endBody:{col:1,line:264}}}},layout:"fullscreen",docs:{description:{component:"Компонент карусели рекомендаций"}}}},Placeholder=()=>(0,jsx_runtime.jsx)("div",{style:{borderRadius:4,background:"#eee",height:40,margin:"20px 0"}});Placeholder.displayName="Placeholder";const DemoBlock=({children})=>(0,jsx_runtime.jsxs)(layout.Layout,{children:[(0,jsx_runtime.jsx)(Placeholder,{}),children,(0,jsx_runtime.jsx)(Placeholder,{})]});DemoBlock.displayName="DemoBlock";const Primary=()=>{const[wished,toggleWish]=(0,react.useState)({});return(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ProductCarousel,{withHoverCard:!0,children:items.map(((item,index)=>(0,jsx_runtime.jsxs)(product_info.ww,{children:[(0,jsx_runtime.jsx)(product_info.QL.Image,{src:item.imageSrc,href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар (изображение)")},children:(0,jsx_runtime.jsx)(product_info.QL.ImageButton,{icon:wished[index]?Favorite.Z:Stroked_Favorite.Z,hint:wished[index]?"Убрать из избранного":"Добавить в избранное",fill:wished[index]?colors.COLORS.get("additional-red"):void 0,onClick:()=>{toggleWish((s=>({...s,[index]:!s[index]}))),console.log("Клик: добавить в избранное")},"data-testid":"favorite-button"})}),item.badges&&(0,jsx_runtime.jsx)(product_info.QL.Badges,{lineLimit:1,children:item.badges.map(((badge,badgeIndex)=>(0,jsx_runtime.jsx)(components_badge.C,{...badge,onClick:()=>console.log("Клик: шильдик")},badgeIndex)))}),(0,jsx_runtime.jsx)(product_info.QL.Prices,{price:item.price,oldPrice:item.oldPrice,currencyGrapheme:item.currencyGrapheme}),(0,jsx_runtime.jsx)(product_info.QL.Title,{href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар")},children:item.name}),(0,jsx_runtime.jsx)(product_info.QL.RatingCounter,{value:4.7,reviewCount:52}),(0,jsx_runtime.jsx)(product_info.QL.Footer,{children:(0,jsx_runtime.jsx)(product_info.QL.CartControl,{stepText:"По 5 шт",markupText:"Комплектация + 50 ₽ при покупке до 20 шт",children:(0,jsx_runtime.jsx)(stepper.Stepper,{defaultValue:3,size:"s",style:{width:"122px"}})})})]},index)))})})};Primary.displayName="Primary",Primary.storyName="Простой пример";const Unavailable=()=>{const[wished,toggleWish]=(0,react.useState)({});return(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ProductCarousel,{withHoverCard:!0,children:items.map(((item,index)=>(0,jsx_runtime.jsxs)(product_info.ww,{restriction:"unavailable",children:[(0,jsx_runtime.jsx)(product_info.QL.Image,{src:item.imageSrc,href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар (изображение)")},children:(0,jsx_runtime.jsx)(product_info.QL.ImageButton,{icon:wished[index]?Favorite.Z:Stroked_Favorite.Z,hint:wished[index]?"Убрать из избранного":"Добавить в избранное",fill:wished[index]?colors.COLORS.get("additional-red"):void 0,onClick:()=>{toggleWish((s=>({...s,[index]:!s[index]}))),console.log("Клик: добавить в избранное")},"data-testid":"favorite-button"})}),item.badges&&(0,jsx_runtime.jsx)(product_info.QL.Badges,{lineLimit:1,children:item.badges.map(((badge,badgeIndex)=>(0,jsx_runtime.jsx)(components_badge.C,{...badge,onClick:()=>console.log("Клик: шильдик")},badgeIndex)))}),(0,jsx_runtime.jsx)(product_info.QL.Prices,{price:item.price,oldPrice:item.oldPrice,currencyGrapheme:item.currencyGrapheme,unavailableReason:"Товара нет в наличии"}),(0,jsx_runtime.jsx)(product_info.QL.Title,{href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар")},children:item.name}),(0,jsx_runtime.jsx)(product_info.QL.Footer,{children:(0,jsx_runtime.jsx)(product_info.QL.WaitListAddButton,{onClick:()=>console.log("Клик: добавление в лист ожидания")})})]},index)))})})};Unavailable.displayName="Unavailable",Unavailable.storyName="Нет в наличии";const Adult=()=>(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ProductCarousel,{withHoverCard:!0,children:items.map(((item,index)=>(0,jsx_runtime.jsxs)(product_info.ww,{restriction:"adult",children:[(0,jsx_runtime.jsx)(product_info.QL.Image,{src:item.imageSrc,href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар (изображение)")}}),(0,jsx_runtime.jsx)(product_info.QL.Prices,{price:item.price,oldPrice:item.oldPrice,currencyGrapheme:item.currencyGrapheme}),(0,jsx_runtime.jsx)(product_info.QL.Title,{href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар")},children:item.name}),(0,jsx_runtime.jsx)(product_info.QL.Footer,{children:(0,jsx_runtime.jsx)(product_info.QL.AdultConfirmButton,{onClick:()=>console.log("Клик: подтверждение возраста")})})]},index)))})});Adult.displayName="Adult",Adult.storyName="Товары для взрослых";const DeferredData=()=>{const[wished,toggleWish]=(0,react.useState)({}),[ready,setReady]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(DemoBlock,{children:[(0,jsx_runtime.jsx)(ui_nucleons_button.Button,{onClick:()=>setReady(!0),size:"s",style:{marginBottom:20},children:"Загрузить"}),(0,jsx_runtime.jsx)(ProductCarousel,{withHoverCard:!0,children:(ready?items:[]).map(((item,index)=>(0,jsx_runtime.jsxs)(product_info.ww,{children:[(0,jsx_runtime.jsx)(product_info.QL.Image,{src:item.imageSrc,href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар (изображение)")},children:(0,jsx_runtime.jsx)(product_info.QL.ImageButton,{icon:wished[index]?Favorite.Z:Stroked_Favorite.Z,hint:wished[index]?"Убрать из избранного":"Добавить в избранное",fill:wished[index]?colors.COLORS.get("additional-red"):void 0,onClick:()=>{toggleWish((s=>({...s,[index]:!s[index]}))),console.log("Клик: добавить в избранное")},"data-testid":"favorite-button"})}),item.badges&&(0,jsx_runtime.jsx)(product_info.QL.Badges,{lineLimit:1,children:item.badges.map(((badge,badgeIndex)=>(0,jsx_runtime.jsx)(components_badge.C,{...badge,onClick:()=>console.log("Клик: шильдик")},badgeIndex)))}),(0,jsx_runtime.jsx)(product_info.QL.Prices,{price:item.price,oldPrice:item.oldPrice,currencyGrapheme:item.currencyGrapheme}),(0,jsx_runtime.jsx)(product_info.QL.Title,{href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар")},children:item.name}),(0,jsx_runtime.jsx)(product_info.QL.Footer,{children:(0,jsx_runtime.jsx)(product_info.QL.CartControl,{stepText:"По 5 шт",markupText:"Комплектация + 50 ₽ при покупке до 20 шт",children:(0,jsx_runtime.jsx)(stepper.Stepper,{defaultValue:3,size:"s",style:{width:"122px"}})})})]},index)))})]})};DeferredData.displayName="DeferredData",DeferredData.storyName="Тест: загрузка после mount";const FewItems=()=>(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ProductCarousel,{withHoverCard:!0,children:items.slice(0,4).map(((item,index)=>(0,jsx_runtime.jsxs)(product_info.ww,{children:[(0,jsx_runtime.jsx)(product_info.QL.Image,{src:item.imageSrc,href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар (изображение)")},children:(0,jsx_runtime.jsx)(product_info.QL.ImageButton,{icon:Stroked_Favorite.Z,hint:"Добавить в избранное","data-testid":"favorite-button"})}),item.badges&&(0,jsx_runtime.jsx)(product_info.QL.Badges,{lineLimit:1,children:item.badges.map(((badge,badgeIndex)=>(0,jsx_runtime.jsx)(components_badge.C,{...badge,onClick:()=>console.log("Клик: шильдик")},badgeIndex)))}),(0,jsx_runtime.jsx)(product_info.QL.Prices,{price:item.price,oldPrice:item.oldPrice,currencyGrapheme:item.currencyGrapheme}),(0,jsx_runtime.jsx)(product_info.QL.Title,{href:item.url,onClick:e=>{e.preventDefault(),console.log("Клик: ссылка на товар")},children:item.name}),(0,jsx_runtime.jsx)(product_info.QL.Footer,{children:(0,jsx_runtime.jsx)(product_info.QL.CartControl,{stepText:"По 5 шт",markupText:"Комплектация + 50 ₽ при покупке до 20 шт",children:(0,jsx_runtime.jsx)(stepper.Stepper,{defaultValue:3,size:"s",style:{width:"122px"}})})})]},index)))})});FewItems.displayName="FewItems",FewItems.storyName="Мало товаров для прокрутки";const CustomItemSize=function CustomItemSize(){return(0,jsx_runtime.jsx)("div",{style:{margin:"40px",width:"400px"},children:(0,jsx_runtime.jsx)(ProductCarousel,{withHoverCard:!0,itemSize:"unset",itemProps:{style:{width:"calc((400px / 2) - 16px)"}},children:items.map(((item,index)=>(0,jsx_runtime.jsxs)(product_info.ww,{children:[(0,jsx_runtime.jsx)(product_info.QL.Image,{src:item.imageSrc,href:item.url,children:(0,jsx_runtime.jsx)(product_info.QL.ImageButton,{icon:Stroked_Favorite.Z,hint:"Добавить в избранное"})}),item.badges&&(0,jsx_runtime.jsx)(product_info.QL.Badges,{lineLimit:1,children:item.badges.map(((badge,badgeIndex)=>(0,jsx_runtime.jsx)(components_badge.C,{...badge},badgeIndex)))}),(0,jsx_runtime.jsx)(product_info.QL.Prices,{price:item.price,oldPrice:item.oldPrice,currencyGrapheme:item.currencyGrapheme}),(0,jsx_runtime.jsx)(product_info.QL.Title,{href:item.url,children:item.name}),(0,jsx_runtime.jsx)(product_info.QL.Footer,{children:(0,jsx_runtime.jsx)(product_info.QL.CartControl,{stepText:"По 5 шт",children:(0,jsx_runtime.jsx)(stepper.Stepper,{defaultValue:3,size:"s",style:{width:"122px"}})})})]},index)))})})};CustomItemSize.displayName="CustomItemSize",CustomItemSize.storyName="Пример: пользовательский размер элемента",Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"() => {\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\n  return <DemoBlock>\n      <ProductCarousel withHoverCard>\n        {items.map((item, index) => <ProductInfo key={index}>\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар (изображение)');\n        }}>\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? 'Убрать из избранного' : 'Добавить в избранное'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\n            toggleWish(s => ({\n              ...s,\n              [index]: !s[index]\n            }));\n            console.log('Клик: добавить в избранное');\n          }} data-testid='favorite-button' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n            <Parts.Title href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар');\n        }}>\n              {item.name}\n            </Parts.Title>\n\n            <Parts.RatingCounter value={4.7} reviewCount={52} />\n\n            <Parts.Footer>\n              <Parts.CartControl stepText='По 5 шт' markupText='Комплектация + 50 ₽ при покупке до 20 шт'>\n                <Stepper defaultValue={3} size='s' style={{\n              width: '122px'\n            }} />\n              </Parts.CartControl>\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </DemoBlock>;\n}",...Primary.parameters?.docs?.source}}},Unavailable.parameters={...Unavailable.parameters,docs:{...Unavailable.parameters?.docs,source:{originalSource:"() => {\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\n  return <DemoBlock>\n      <ProductCarousel withHoverCard>\n        {items.map((item, index) => <ProductInfo key={index} restriction='unavailable'>\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар (изображение)');\n        }}>\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? 'Убрать из избранного' : 'Добавить в избранное'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\n            toggleWish(s => ({\n              ...s,\n              [index]: !s[index]\n            }));\n            console.log('Клик: добавить в избранное');\n          }} data-testid='favorite-button' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} unavailableReason='Товара нет в наличии' />\n\n            <Parts.Title href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар');\n        }}>\n              {item.name}\n            </Parts.Title>\n\n            <Parts.Footer>\n              <Parts.WaitListAddButton onClick={() => console.log('Клик: добавление в лист ожидания')} />\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </DemoBlock>;\n}",...Unavailable.parameters?.docs?.source}}},Adult.parameters={...Adult.parameters,docs:{...Adult.parameters?.docs,source:{originalSource:"() => <DemoBlock>\n    <ProductCarousel withHoverCard>\n      {items.map((item, index) => <ProductInfo key={index} restriction='adult'>\n          <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар (изображение)');\n      }} />\n\n          <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n          <Parts.Title href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар');\n      }}>\n            {item.name}\n          </Parts.Title>\n\n          <Parts.Footer>\n            <Parts.AdultConfirmButton onClick={() => console.log('Клик: подтверждение возраста')} />\n          </Parts.Footer>\n        </ProductInfo>)}\n    </ProductCarousel>\n  </DemoBlock>",...Adult.parameters?.docs?.source}}},DeferredData.parameters={...DeferredData.parameters,docs:{...DeferredData.parameters?.docs,source:{originalSource:"() => {\n  const [wished, toggleWish] = useState<Record<number, boolean>>({});\n  const [ready, setReady] = useState<boolean>(false);\n  return <DemoBlock>\n      <Button onClick={() => setReady(true)} size='s' style={{\n      marginBottom: 20\n    }}>\n        Загрузить\n      </Button>\n\n      <ProductCarousel withHoverCard>\n        {(ready ? items : []).map((item, index) => <ProductInfo key={index}>\n            <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар (изображение)');\n        }}>\n              <Parts.ImageButton icon={wished[index] ? FavSVG : NotFavSVG} hint={wished[index] ? 'Убрать из избранного' : 'Добавить в избранное'} fill={wished[index] ? COLORS.get('additional-red') : undefined} onClick={() => {\n            toggleWish(s => ({\n              ...s,\n              [index]: !s[index]\n            }));\n            console.log('Клик: добавить в избранное');\n          }} data-testid='favorite-button' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n            <Parts.Title href={item.url} onClick={e => {\n          e.preventDefault();\n          console.log('Клик: ссылка на товар');\n        }}>\n              {item.name}\n            </Parts.Title>\n\n            <Parts.Footer>\n              <Parts.CartControl stepText='По 5 шт' markupText='Комплектация + 50 ₽ при покупке до 20 шт'>\n                <Stepper defaultValue={3} size='s' style={{\n              width: '122px'\n            }} />\n              </Parts.CartControl>\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </DemoBlock>;\n}",...DeferredData.parameters?.docs?.source}}},FewItems.parameters={...FewItems.parameters,docs:{...FewItems.parameters?.docs,source:{originalSource:"() => <DemoBlock>\n    <ProductCarousel withHoverCard>\n      {items.slice(0, 4).map((item, index) => <ProductInfo key={index}>\n          <Parts.Image src={item.imageSrc} href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар (изображение)');\n      }}>\n            <Parts.ImageButton icon={NotFavSVG} hint='Добавить в избранное' data-testid='favorite-button' />\n          </Parts.Image>\n\n          {item.badges && <Parts.Badges lineLimit={1}>\n              {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} onClick={() => console.log('Клик: шильдик')} />)}\n            </Parts.Badges>}\n\n          <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n          <Parts.Title href={item.url} onClick={e => {\n        e.preventDefault();\n        console.log('Клик: ссылка на товар');\n      }}>\n            {item.name}\n          </Parts.Title>\n\n          <Parts.Footer>\n            <Parts.CartControl stepText='По 5 шт' markupText='Комплектация + 50 ₽ при покупке до 20 шт'>\n              <Stepper defaultValue={3} size='s' style={{\n            width: '122px'\n          }} />\n            </Parts.CartControl>\n          </Parts.Footer>\n        </ProductInfo>)}\n    </ProductCarousel>\n  </DemoBlock>",...FewItems.parameters?.docs?.source}}},CustomItemSize.parameters={...CustomItemSize.parameters,docs:{...CustomItemSize.parameters?.docs,source:{originalSource:"function CustomItemSize() {\n  return <div style={{\n    margin: '40px',\n    width: '400px'\n  }}>\n      <ProductCarousel withHoverCard itemSize='unset' itemProps={{\n      style: {\n        width: 'calc((400px / 2) - 16px)'\n      }\n    }}>\n        {items.map((item, index) => <ProductInfo key={index}>\n            <Parts.Image src={item.imageSrc} href={item.url}>\n              <Parts.ImageButton icon={NotFavSVG} hint='Добавить в избранное' />\n            </Parts.Image>\n\n            {item.badges && <Parts.Badges lineLimit={1}>\n                {item.badges.map((badge, badgeIndex) => <Badge key={badgeIndex} {...badge} />)}\n              </Parts.Badges>}\n\n            <Parts.Prices price={item.price} oldPrice={item.oldPrice} currencyGrapheme={item.currencyGrapheme} />\n\n            <Parts.Title href={item.url}>{item.name}</Parts.Title>\n\n            <Parts.Footer>\n              <Parts.CartControl stepText='По 5 шт'>\n                <Stepper defaultValue={3} size='s' style={{\n              width: '122px'\n            }} />\n              </Parts.CartControl>\n            </Parts.Footer>\n          </ProductInfo>)}\n      </ProductCarousel>\n    </div>;\n}",...CustomItemSize.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","Unavailable","Adult","DeferredData","FewItems","CustomItemSize"]},"./src/desktop/components/product-card/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zs:()=>HoverCard,Il:()=>ProductCard,Rs:()=>reduceBaseInfo});var react=__webpack_require__("./node_modules/react/index.js"),product_info=__webpack_require__("./src/common/components/product-info/index.tsx"),plate=__webpack_require__("./node_modules/@sima-land/ui-nucleons/plate/index.js"),helpers_layer=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/layer.js"),bind=__webpack_require__("./node_modules/classnames/bind.js"),bind_default=__webpack_require__.n(bind),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),product_card_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/product-card/product-card.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(product_card_module.Z,options);const product_card_product_card_module=product_card_module.Z&&product_card_module.Z.locals?product_card_module.Z.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const cx=bind_default().bind(product_card_product_card_module);function ProductCard({reduceBaseInfo:reduceBaseInfoProp=reduceBaseInfo,reduceHoverInfo:reduceHoverInfoProp=reduceHoverInfo,children,className,...props}){const[hovered,toggle]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{...props,"data-testid":"product-card",className:cx("root",className),onMouseEnter:()=>toggle(!0),onMouseLeave:()=>toggle(!1),children:[(0,jsx_runtime.jsx)("div",{"data-testid":"product-card:info",children:reduceBaseInfoProp(children)}),hovered&&(0,jsx_runtime.jsx)(HoverCard,{children:reduceHoverInfoProp(children)})]})}ProductCard.displayName="ProductCard";const HoverCard=(0,react.forwardRef)(((props,ref)=>{const layer=(0,helpers_layer.useLayer)()+1;return(0,jsx_runtime.jsx)(plate.Plate,{...props,style:{...props.style,zIndex:layer},ref,rounds:"m",shadow:"z4",className:cx("card",props.className),"data-testid":"product-card:hover-card"})}));function reduceBaseInfo(element,{hideImageButtons=!0,hideFooter=!0}={}){return(0,react.cloneElement)(element,{children:react.Children.map(element.props.children,(child=>{let result;if((0,react.isValidElement)(child))switch(!0){case Boolean(child.type===product_info.QL.Image&&hideImageButtons):result=(0,react.cloneElement)(child,{children:void 0});break;case Boolean(child.type===product_info.QL.Footer&&hideFooter):result=null;break;default:result=child}return result}))})}function reduceHoverInfo(element){return(0,react.cloneElement)(element,{children:react.Children.map(element.props.children,(child=>{let result;if((0,react.isValidElement)(child))if(child.type===product_info.QL.Image)result=(0,react.cloneElement)(child,{opacity:1});else result=child;return result}))})}try{ProductCard.displayName="ProductCard",ProductCard.__docgenInfo={description:"Карточка данных товара с расширенной инф-ой при наведении.",displayName:"ProductCard",props:{children:{defaultValue:null,description:"Содержимое.",name:"children",required:!0,type:{name:"ProductCardChildren"}},reduceBaseInfo:{defaultValue:null,description:"Получив содержимое должен вернуть то что будет выведено без наведения.",name:"reduceBaseInfo",required:!1,type:{name:"((children: ProductCardChildren) => ReactNode) | undefined"}},reduceHoverInfo:{defaultValue:null,description:"Получив содержимое должен вернуть то что будет выведено во всплывающей карточке.",name:"reduceHoverInfo",required:!1,type:{name:"((children: ProductCardChildren) => ReactNode) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/product-card/product-card.tsx#ProductCard"]={docgenInfo:ProductCard.__docgenInfo,name:"ProductCard",path:"src/desktop/components/product-card/product-card.tsx#ProductCard"})}catch(__react_docgen_typescript_loader_error){}try{reduceBaseInfo.displayName="reduceBaseInfo",reduceBaseInfo.__docgenInfo={description:"Фильтрует содержимое карточки для вывода состояния без наведения.",displayName:"reduceBaseInfo",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/product-card/product-card.tsx#reduceBaseInfo"]={docgenInfo:reduceBaseInfo.__docgenInfo,name:"reduceBaseInfo",path:"src/desktop/components/product-card/product-card.tsx#reduceBaseInfo"})}catch(__react_docgen_typescript_loader_error){}try{reduceHoverInfo.displayName="reduceHoverInfo",reduceHoverInfo.__docgenInfo={description:"Получив содержимое карточки фильтрует/меняет его для вывода в карточке при наведении.",displayName:"reduceHoverInfo",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/product-card/product-card.tsx#reduceHoverInfo"]={docgenInfo:reduceHoverInfo.__docgenInfo,name:"reduceHoverInfo",path:"src/desktop/components/product-card/product-card.tsx#reduceHoverInfo"})}catch(__react_docgen_typescript_loader_error){}try{HoverCard.displayName="HoverCard",HoverCard.__docgenInfo={description:"",displayName:"HoverCard",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/product-card/product-card.tsx#HoverCard"]={docgenInfo:HoverCard.__docgenInfo,name:"HoverCard",path:"src/desktop/components/product-card/product-card.tsx#HoverCard"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/product-card/product-card.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".product-card-module__root__a46{position:relative;max-width:400px}.product-card-module__card__f0c{position:absolute;top:-16px;left:-16px;padding:16px 16px 24px;width:calc(100% + 32px)}","",{version:3,sources:["webpack://./src/desktop/components/product-card/product-card.module.scss"],names:[],mappings:"AAAA,gCACE,iBAAA,CACA,eAAA,CAGF,gCACE,iBAAA,CACA,SAAA,CACA,UAAA,CACA,sBAAA,CACA,uBAAA",sourcesContent:[".root {\n  position: relative;\n  max-width: 400px;\n}\n\n.card {\n  position: absolute;\n  top: -16px;\n  left: -16px;\n  padding: 16px 16px 24px;\n  width: calc(100% + 32px);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={root:"product-card-module__root__a46",card:"product-card-module__card__f0c"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/product-carousel/hover-card.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".hover-card-module__root__c55{position:absolute;top:-1000px;left:-1000px;opacity:1;visibility:visible}.hover-card-module__root__c55.hover-card-module__hidden__e7e{opacity:0;visibility:hidden;pointer-events:none}","",{version:3,sources:["webpack://./src/desktop/components/product-carousel/hover-card.module.scss"],names:[],mappings:"AAEA,8BACE,iBAAA,CACA,WAAA,CACA,YAAA,CACA,SAAA,CACA,kBAAA,CACA,6DACE,SAAA,CACA,iBAAA,CACA,mBAAA",sourcesContent:["@use 'node_modules/@sima-land/ui-nucleons/colors';\n\n.root {\n  position: absolute;\n  top: -1000px;\n  left: -1000px;\n  opacity: 1;\n  visibility: visible;\n  &.hidden {\n    opacity: 0;\n    visibility: hidden;\n    pointer-events: none;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={root:"hover-card-module__root__c55",hidden:"hover-card-module__hidden__e7e"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/product-carousel/product-carousel.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".product-carousel-module__root__f80{position:relative;width:100%}.product-carousel-module__title__e4f{font-size:24px;font-weight:600;margin:0 0 32px}.product-carousel-module__item__e40{flex-shrink:0}.product-carousel-module__item__e40:not(:last-child){margin-right:32px}@media(min-width: 1024px){.product-carousel-module__size-xs-2__a77{width:calc((100% - (((12 / 2) - 1) * 32px))*(2 / 12))}.product-carousel-module__size-xs-3__e08{width:calc((100% - (((12 / 3) - 1) * 32px))*(3 / 12))}.product-carousel-module__size-xs-4__a48{width:calc((100% - (((12 / 4) - 1) * 32px))*(4 / 12))}}@media(max-width: 1023px){.product-carousel-module__size-xs-2__a77{width:calc((100% - (((12 / 2) - 1) * 32px))*(2 / 12))}.product-carousel-module__size-xs-3__e08{width:calc((100% - (((12 / 3) - 1) * 32px))*(3 / 12))}.product-carousel-module__size-xs-4__a48{width:calc((100% - (((12 / 4) - 1) * 32px))*(4 / 12))}}@media(min-width: 1280px){.product-carousel-module__size-s-2__c74{width:calc((100% - (((12 / 2) - 1) * 32px))*(2 / 12))}.product-carousel-module__size-s-3__a81{width:calc((100% - (((12 / 3) - 1) * 32px))*(3 / 12))}.product-carousel-module__size-s-4__e4f{width:calc((100% - (((12 / 4) - 1) * 32px))*(4 / 12))}}@media(min-width: 1440px){.product-carousel-module__size-m-2__fb9{width:calc((100% - (((12 / 2) - 1) * 32px))*(2 / 12))}.product-carousel-module__size-m-3__a72{width:calc((100% - (((12 / 3) - 1) * 32px))*(3 / 12))}.product-carousel-module__size-m-4__cd5{width:calc((100% - (((12 / 4) - 1) * 32px))*(4 / 12))}}@media(min-width: 1600px){.product-carousel-module__size-l-2__c0a{width:calc((100% - (((12 / 2) - 1) * 32px))*(2 / 12))}.product-carousel-module__size-l-3__eb1{width:calc((100% - (((12 / 3) - 1) * 32px))*(3 / 12))}.product-carousel-module__size-l-4__fd4{width:calc((100% - (((12 / 4) - 1) * 32px))*(4 / 12))}}@media(min-width: 1920px){.product-carousel-module__size-xl-2__f53{width:calc((100% - (((12 / 2) - 1) * 32px))*(2 / 12))}.product-carousel-module__size-xl-3__eec{width:calc((100% - (((12 / 3) - 1) * 32px))*(3 / 12))}.product-carousel-module__size-xl-4__a52{width:calc((100% - (((12 / 4) - 1) * 32px))*(4 / 12))}}","",{version:3,sources:["webpack://./src/desktop/components/product-carousel/product-carousel.module.scss","webpack://./node_modules/@sima-land/ui-nucleons/breakpoints.scss"],names:[],mappings:"AAeA,oCACE,iBAAA,CACA,UAAA,CAGF,qCACE,cAAA,CACA,eAAA,CACA,eAAA,CAGF,oCACE,aAAA,CACA,qDACE,iBAzBK,CCeL,0BDVA,yCACE,qDAAA,CADF,yCACE,qDAAA,CADF,yCACE,qDAAA,CAAA,CCmBF,0BDpBA,yCACE,qDAAA,CADF,yCACE,qDAAA,CADF,yCACE,qDAAA,CAAA,CCSF,0BDVA,wCACE,qDAAA,CADF,wCACE,qDAAA,CADF,wCACE,qDAAA,CAAA,CCSF,0BDVA,wCACE,qDAAA,CADF,wCACE,qDAAA,CADF,wCACE,qDAAA,CAAA,CCSF,0BDVA,wCACE,qDAAA,CADF,wCACE,qDAAA,CADF,wCACE,qDAAA,CAAA,CCSF,0BDVA,yCACE,qDAAA,CADF,yCACE,qDAAA,CADF,yCACE,qDAAA,CAAA",sourcesContent:["@use 'node_modules/@sima-land/ui-nucleons/breakpoints';\n@use 'node_modules/@sima-land/ui-nucleons/colors';\n\n$breakpoints: 'xs', 's', 'm', 'l', 'xl';\n$gutter: 32px;\n\n@mixin sizes($key) {\n  // в соответствии с гайдами ширина может быть 2/3/4\n  @for $i from 2 through 4 {\n    .size-#{$key}-#{$i} {\n      width: calc((100% - (((12 / #{$i}) - 1) * #{$gutter})) * (#{$i} / 12));\n    }\n  }\n}\n\n.root {\n  position: relative;\n  width: 100%;\n}\n\n.title {\n  font-size: 24px;\n  font-weight: 600;\n  margin: 0 0 32px;\n}\n\n.item {\n  flex-shrink: 0;\n  &:not(:last-child) {\n    margin-right: $gutter;\n  }\n}\n\n@each $key in $breakpoints {\n  @include breakpoints.up($key) {\n    @include sizes($key);\n  }\n  @if $key == 'xs' {\n    @include breakpoints.down($key) {\n      @include sizes($key);\n    }\n  }\n}\n",'$map: (\n  mxs: 0,\n  ms: 480px,\n  mm: 720px,\n  ml: 840px,\n  xs: 1024px,\n  s: 1280px,\n  m: 1440px,\n  l: 1600px,\n  xl: 1920px,\n) !default;\n\n/**\n * ВАЖНО: здесь должны быть только утилиты позволяющие применить стили ">=" либо "<" начала диапазона (breakpoint range).\n * Не должно возникать ситуаций в которых нужно применить стили "<=" или ">" начала диапазона.\n */\n\n@mixin greaterThanOrEqual($breakpoint) {\n  @if map-has-key($map, $breakpoint) {\n    @media (min-width: map-get($map, $breakpoint)) {\n      @content;\n    }\n  } @else {\n    @warn \'No such breakpoint `#{$breakpoint}`. Available values: #{map-keys($map)}.\';\n  }\n}\n\n@mixin lessThan($breakpoint) {\n  @if map-has-key($map, $breakpoint) {\n    @media (max-width: (map-get($map, $breakpoint) - 1px)) {\n      @content;\n    }\n  } @else {\n    @warn \'No such breakpoint `#{$breakpoint}`. Available values: #{map-keys($map)}.\';\n  }\n}\n\n@mixin gte($args...) {\n  @include greaterThanOrEqual($args...) {\n    @content;\n  }\n}\n\n@mixin lt($args...) {\n  @include lessThan($args...) {\n    @content;\n  }\n}\n\n/** @deprecated */\n@mixin up($args...) {\n  @include greaterThanOrEqual($args...) {\n    @content;\n  }\n}\n\n/** @deprecated */\n@mixin down($args...) {\n  @include lessThan($args...) {\n    @content;\n  }\n}\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={root:"product-carousel-module__root__f80",title:"product-carousel-module__title__e4f",item:"product-carousel-module__item__e40","size-xs-2":"product-carousel-module__size-xs-2__a77","size-xs-3":"product-carousel-module__size-xs-3__e08","size-xs-4":"product-carousel-module__size-xs-4__a48","size-s-2":"product-carousel-module__size-s-2__c74","size-s-3":"product-carousel-module__size-s-3__a81","size-s-4":"product-carousel-module__size-s-4__e4f","size-m-2":"product-carousel-module__size-m-2__fb9","size-m-3":"product-carousel-module__size-m-3__a72","size-m-4":"product-carousel-module__size-m-4__cd5","size-l-2":"product-carousel-module__size-l-2__c0a","size-l-3":"product-carousel-module__size-l-3__eb1","size-l-4":"product-carousel-module__size-l-4__fd4","size-xl-2":"product-carousel-module__size-xl-2__f53","size-xl-3":"product-carousel-module__size-xl-3__eec","size-xl-4":"product-carousel-module__size-xl-4__a52"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);