"use strict";(self.webpackChunk_sima_land_moleculas=self.webpackChunk_sima_land_moleculas||[]).push([[1780],{"./node_modules/@sima-land/ui-nucleons/colors/index.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.COLORS=exports.COLOR=void 0,exports.COLOR={"basic-blue":"#1f84db","basic-gray87":"#212121","basic-gray76":"#3a3a3b","basic-gray66":"#545455","basic-gray54":"#757575","basic-gray38":"#9e9e9e","basic-gray24":"#c2c2c2","basic-gray12":"#e0e0e0","basic-gray8":"#ebebeb","basic-gray4":"#f5f5f5","basic-gray2":"#fafafa","basic-white":"#fff","additional-deep-red":"#d50000","additional-red":"#fb3a2f","additional-light-red":"#feebea","additional-dark-teal":"#089176","additional-teal":"#09ab8b","additional-green":"#00c853","additional-light-green":"#64dd17","additional-lime":"#aeea00","additional-faded-green":"#eff9ea","additional-pink":"#e82e5c","additional-purple":"#b52ea8","additional-violet":"#902bd0","additional-deep-purple":"#634bdf","additional-electric-blue":"#2962ff","additional-light-blue":"#0091ea","additional-cyan":"#00b8d4","additional-sky":"#e4f1f9","additional-deep-orange":"#ff7200","additional-amber":"#ffab00","additional-yellow":"#ffd600","additional-gold":"#d5a43b","additional-brown":"#795548","additional-blue-gray":"#607d8b","additional-deep-blue":"#00599d","additional-dark-blue":"#002b41","additional-unlit-blue":"#1b75c2"},exports.COLORS=new Map(Object.entries(exports.COLOR))},"./node_modules/@sima-land/ui-nucleons/helpers/is-browser.js":(__unused_webpack_module,exports)=>{function isBrowser(){return"undefined"!=typeof window}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowser=void 0,exports.isBrowser=isBrowser,exports.default=isBrowser},"./node_modules/@sima-land/ui-nucleons/helpers/is-touch-device.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTouchDevice=void 0;const is_browser_1=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/is-browser.js");exports.isTouchDevice=function isTouchDevice(){return(0,is_browser_1.isBrowser)()&&"ontouchstart"in window}},"./node_modules/@sima-land/ui-nucleons/helpers/on.js":(__unused_webpack_module,exports)=>{function on(target,eventNames,callback,options){const eventNamesList=eventNames.split(" "),wrapped=e=>callback(e);return eventNamesList.forEach((eventName=>{target.addEventListener(eventName,wrapped,options)})),()=>{eventNamesList.forEach((eventName=>{target.removeEventListener(eventName,wrapped,options)}))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=void 0,exports.on=on,exports.default=on},"./node_modules/@sima-land/ui-nucleons/hooks/identity.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.useIdentityRef=void 0;const react_1=__webpack_require__("./node_modules/react/index.js");exports.useIdentityRef=value=>{const ref=(0,react_1.useRef)(value);return ref.current=value,ref}},"./node_modules/@sima-land/ui-nucleons/hooks/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.useIsomorphicLayoutEffect=exports.useOutsideClick=exports.useInfiniteScroll=exports.useIsTouchDevice=void 0;const react_1=__webpack_require__("./node_modules/react/index.js"),is_touch_device_1=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/is-touch-device.js"),on_1=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/on.js"),identity_1=__webpack_require__("./node_modules/@sima-land/ui-nucleons/hooks/identity.js");exports.useIsTouchDevice=function useIsTouchDevice(){const[isTouch,setTouch]=(0,react_1.useState)(!1);return(0,react_1.useEffect)((()=>{setTouch((0,is_touch_device_1.isTouchDevice)())}),[]),isTouch},exports.useInfiniteScroll=function useInfiniteScroll(ref,{onFullScroll,threshold=0},moreDeps){const callbackRef=(0,identity_1.useIdentityRef)(onFullScroll);(0,react_1.useEffect)((()=>{const element=ref.current;if(element)return(0,on_1.on)(element,"scroll",(event=>{var _a;const{scrollTop,clientHeight,scrollHeight}=event.target;threshold+scrollTop+clientHeight>=scrollHeight&&(null===(_a=callbackRef.current)||void 0===_a||_a.call(callbackRef,event))}))}),[ref,threshold,...moreDeps||[]])},exports.useOutsideClick=function useOutsideClick(elementRef,callback){const innerRef=(0,identity_1.useIdentityRef)(elementRef),callbackRef=(0,identity_1.useIdentityRef)(callback);(0,react_1.useEffect)((()=>(0,on_1.on)(document.documentElement,"click",(event=>{var _a;const arg=innerRef.current,refs=Array.isArray(arg)?arg:[arg];let isOutsideClick=!0;for(const{current:element}of refs)if(element&&event.target instanceof Node&&(element===event.target||element.contains(event.target))){isOutsideClick=!1;break}isOutsideClick&&(null===(_a=callbackRef.current)||void 0===_a||_a.call(callbackRef,event))}),{capture:!0})),[])},exports.useIsomorphicLayoutEffect="undefined"!=typeof window?react_1.useLayoutEffect:react_1.useEffect},"./src/desktop/components/modifiers/group/__stories__/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Color:()=>Color,Image:()=>Image,Text:()=>Text,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),modifiers_button=__webpack_require__("./src/desktop/components/modifiers/button/index.tsx"),hooks=__webpack_require__("./node_modules/@sima-land/ui-nucleons/hooks/index.js"),on=__webpack_require__("./node_modules/@sima-land/ui-nucleons/helpers/on.js");const initialViewState={phase:"default",lastVisibleIndex:-1};function useViewState(containerRef,openerRef){const[viewState,setViewState]=(0,react.useState)(initialViewState);return(0,react.useEffect)((()=>(0,on.default)(window,"resize",(()=>{setViewState(initialViewState)}))),[]),(0,hooks.useIsomorphicLayoutEffect)((()=>{"default"===viewState.phase&&setViewState(function defineViewState(containerRef,openerRef){const state={phase:"ready",lastVisibleIndex:-1},container=containerRef.current,opener=openerRef.current;if(container&&opener){const parentRect=container.getBoundingClientRect(),childList=[...container.children],firstHiddenNodeIndex=childList.filter((child=>child!==opener)).findIndex((child=>child.getBoundingClientRect().top-parentRect.top>=parentRect.height));if(-1!==firstHiddenNodeIndex){const lastVisibleIndex=firstHiddenNodeIndex-1,lastVisible=childList[lastVisibleIndex];if(lastVisible){const rightBound=lastVisible.getBoundingClientRect().right,isOpenerFit=container.getBoundingClientRect().right-rightBound>=1.5*opener.clientWidth;state.lastVisibleIndex=lastVisibleIndex+Number(isOpenerFit)}}}return state}(containerRef,openerRef))}),[viewState.phase,containerRef,openerRef]),viewState}var bind=__webpack_require__("./node_modules/classnames/bind.js"),bind_default=__webpack_require__.n(bind),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),modifiers_group_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/modifiers/group/modifiers-group.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(modifiers_group_module.Z,options);const group_modifiers_group_module=modifiers_group_module.Z&&modifiers_group_module.Z.locals?modifiers_group_module.Z.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const cx=bind_default().bind(group_modifiers_group_module),ModifiersGroup=({children,defaultOpened=!1,onShowAll})=>{const[opened,setOpened]=(0,react.useState)(defaultOpened),rootRef=(0,react.useRef)(null),openerRef=(0,react.useRef)(null),showAll=(0,react.useCallback)((event=>{setOpened(!0),onShowAll?.(event)}),[onShowAll]),viewState=useViewState(rootRef,openerRef),items=react.Children.toArray(children).reduce(((result,child,index)=>{if((0,react.isValidElement)(child)&&child.type===modifiers_button.I){const isDisplayed=!(-1!==viewState.lastVisibleIndex&&!opened)||index<viewState.lastVisibleIndex;result.push((0,jsx_runtime.jsx)(GroupItem,{hidden:!isDisplayed,children:child},index))}return result}),[]);return(0,jsx_runtime.jsxs)("div",{ref:rootRef,className:cx("root",{opened}),children:[items,!opened&&(0,jsx_runtime.jsx)(GroupItem,{ref:openerRef,invisible:-1===viewState.lastVisibleIndex,children:(0,jsx_runtime.jsx)(OpenButton,{count:items.length-viewState.lastVisibleIndex,onClick:showAll})})]})};ModifiersGroup.displayName="ModifiersGroup";const GroupItem=(0,react.forwardRef)((({children,hidden,invisible},ref)=>(0,jsx_runtime.jsx)("div",{ref,className:cx("item",{hidden,invisible}),"data-testid":"modifier-group:item",children}))),OpenButton=({count,onClick})=>(0,jsx_runtime.jsx)(modifiers_button.I,{squared:!0,onClick,content:`+${count}`,className:cx("opener"),"data-testid":"modifier-group:show-all-button"});OpenButton.displayName="OpenButton";try{ModifiersGroup.displayName="ModifiersGroup",ModifiersGroup.__docgenInfo={description:"Блок списка кнопок модификаторов.",displayName:"ModifiersGroup",props:{children:{defaultValue:null,description:"Кнопки модификаторов.",name:"children",required:!1,type:{name:"ReactNode"}},defaultOpened:{defaultValue:{value:"false"},description:"Надо ли сразу показывать весь список не ограничивая двумя строками.",name:"defaultOpened",required:!1,type:{name:"boolean | undefined"}},onShowAll:{defaultValue:null,description:"Будет вызвана после нажатия на кнопку показа всех модификаторов.",name:"onShowAll",required:!1,type:{name:"MouseEventHandler<HTMLDivElement> | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/modifiers/group/index.tsx#ModifiersGroup"]={docgenInfo:ModifiersGroup.__docgenInfo,name:"ModifiersGroup",path:"src/desktop/components/modifiers/group/index.tsx#ModifiersGroup"})}catch(__react_docgen_typescript_loader_error){}var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),colors=__webpack_require__("./node_modules/@sima-land/ui-nucleons/colors/index.js");const index_stories={title:"desktop/ModifiersGroup",component:ModifiersGroup,parameters:{storySource:{source:"import { ModifiersGroup } from '@sima-land/moleculas/desktop/components/modifiers/group';\nimport { ModifierButton } from '@sima-land/moleculas/desktop/components/modifiers/button';\nimport { ReactNode, useState } from 'react';\nimport { times } from 'lodash';\nimport { COLORS } from '@sima-land/ui-nucleons/colors';\nexport default {\n  title: 'desktop/ModifiersGroup',\n  component: ModifiersGroup,\n  parameters: {\n    layout: 'padded'\n  }\n};\nconst DemoBlock = ({\n  children\n}: {\n  children?: ReactNode;\n}) => {\n  const Placeholder = () => <div style={{\n    height: '48px',\n    background: '#eee',\n    borderRadius: '4px'\n  }} />;\n  return <div style={{\n    maxWidth: '720px',\n    margin: '0 auto'\n  }}>\n      <Placeholder />\n      <div style={{\n      margin: '16px 0'\n    }}>{children}</div>\n      <Placeholder />\n    </div>;\n};\nexport const Text = () => {\n  const [selected, select] = useState<number>(0);\n  const items: number[] = times(10).map(n => 30 + n * 2);\n  return <DemoBlock>\n      <ModifiersGroup>\n        {items.map((item, index) => <ModifierButton key={index} type='text' content={`Размер ${item}`} selected={index === selected} onClick={() => select(index)} />)}\n      </ModifiersGroup>\n    </DemoBlock>;\n};\nText.storyName = 'Текст';\nexport const Color = () => {\n  const [selected, select] = useState<string | null>(null);\n  return <DemoBlock>\n      <ModifiersGroup>\n        {[...COLORS].map(([name, value]) => <ModifierButton key={name} type='color' color={value} content={name} selected={name === selected} onClick={() => select(name)} />)}\n      </ModifiersGroup>\n    </DemoBlock>;\n};\nColor.storyName = 'Цвет';\nexport const Image = () => {\n  const images: string[] = ['https://picsum.photos/50', 'https://picsum.photos/60', 'https://picsum.photos/70', 'https://picsum.photos/80', 'https://picsum.photos/90', 'https://picsum.photos/100', 'https://picsum.photos/110', 'https://picsum.photos/120'];\n  return <DemoBlock>\n      <ModifiersGroup>\n        {images.map((src, index) => <ModifierButton key={index} type='image' image={src} content='Image' />)}\n      </ModifiersGroup>\n    </DemoBlock>;\n};\nImage.storyName = 'Изображение';\nText.parameters = {\n  ...Text.parameters,\n  docs: {\n    ...Text.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  const [selected, select] = useState<number>(0);\\n  const items: number[] = times(10).map(n => 30 + n * 2);\\n  return <DemoBlock>\\n      <ModifiersGroup>\\n        {items.map((item, index) => <ModifierButton key={index} type='text' content={`\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440 ${item}`} selected={index === selected} onClick={() => select(index)} />)}\\n      </ModifiersGroup>\\n    </DemoBlock>;\\n}\",\n      ...Text.parameters?.docs?.source\n    }\n  }\n};\nColor.parameters = {\n  ...Color.parameters,\n  docs: {\n    ...Color.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  const [selected, select] = useState<string | null>(null);\\n  return <DemoBlock>\\n      <ModifiersGroup>\\n        {[...COLORS].map(([name, value]) => <ModifierButton key={name} type='color' color={value} content={name} selected={name === selected} onClick={() => select(name)} />)}\\n      </ModifiersGroup>\\n    </DemoBlock>;\\n}\",\n      ...Color.parameters?.docs?.source\n    }\n  }\n};\nImage.parameters = {\n  ...Image.parameters,\n  docs: {\n    ...Image.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  const images: string[] = ['https://picsum.photos/50', 'https://picsum.photos/60', 'https://picsum.photos/70', 'https://picsum.photos/80', 'https://picsum.photos/90', 'https://picsum.photos/100', 'https://picsum.photos/110', 'https://picsum.photos/120'];\\n  return <DemoBlock>\\n      <ModifiersGroup>\\n        {images.map((src, index) => <ModifierButton key={index} type='image' image={src} content='Image' />)}\\n      </ModifiersGroup>\\n    </DemoBlock>;\\n}\",\n      ...Image.parameters?.docs?.source\n    }\n  }\n};",locationsMap:{text:{startLoc:{col:20,line:34},endLoc:{col:1,line:42},startBody:{col:20,line:34},endBody:{col:1,line:42}},color:{startLoc:{col:21,line:44},endLoc:{col:1,line:51},startBody:{col:21,line:44},endBody:{col:1,line:51}},image:{startLoc:{col:21,line:53},endLoc:{col:1,line:60},startBody:{col:21,line:53},endBody:{col:1,line:60}}}},layout:"padded"}},DemoBlock=({children})=>{const Placeholder=()=>(0,jsx_runtime.jsx)("div",{style:{height:"48px",background:"#eee",borderRadius:"4px"}});return(0,jsx_runtime.jsxs)("div",{style:{maxWidth:"720px",margin:"0 auto"},children:[(0,jsx_runtime.jsx)(Placeholder,{}),(0,jsx_runtime.jsx)("div",{style:{margin:"16px 0"},children}),(0,jsx_runtime.jsx)(Placeholder,{})]})};DemoBlock.displayName="DemoBlock";const Text=()=>{const[selected,select]=(0,react.useState)(0),items=(0,lodash.times)(10).map((n=>30+2*n));return(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ModifiersGroup,{children:items.map(((item,index)=>(0,jsx_runtime.jsx)(modifiers_button.I,{type:"text",content:`Размер ${item}`,selected:index===selected,onClick:()=>select(index)},index)))})})};Text.displayName="Text",Text.storyName="Текст";const Color=()=>{const[selected,select]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ModifiersGroup,{children:[...colors.COLORS].map((([name,value])=>(0,jsx_runtime.jsx)(modifiers_button.I,{type:"color",color:value,content:name,selected:name===selected,onClick:()=>select(name)},name)))})})};Color.displayName="Color",Color.storyName="Цвет";const Image=()=>(0,jsx_runtime.jsx)(DemoBlock,{children:(0,jsx_runtime.jsx)(ModifiersGroup,{children:["https://picsum.photos/50","https://picsum.photos/60","https://picsum.photos/70","https://picsum.photos/80","https://picsum.photos/90","https://picsum.photos/100","https://picsum.photos/110","https://picsum.photos/120"].map(((src,index)=>(0,jsx_runtime.jsx)(modifiers_button.I,{type:"image",image:src,content:"Image"},index)))})});Image.displayName="Image",Image.storyName="Изображение",Text.parameters={...Text.parameters,docs:{...Text.parameters?.docs,source:{originalSource:"() => {\n  const [selected, select] = useState<number>(0);\n  const items: number[] = times(10).map(n => 30 + n * 2);\n  return <DemoBlock>\n      <ModifiersGroup>\n        {items.map((item, index) => <ModifierButton key={index} type='text' content={`Размер ${item}`} selected={index === selected} onClick={() => select(index)} />)}\n      </ModifiersGroup>\n    </DemoBlock>;\n}",...Text.parameters?.docs?.source}}},Color.parameters={...Color.parameters,docs:{...Color.parameters?.docs,source:{originalSource:"() => {\n  const [selected, select] = useState<string | null>(null);\n  return <DemoBlock>\n      <ModifiersGroup>\n        {[...COLORS].map(([name, value]) => <ModifierButton key={name} type='color' color={value} content={name} selected={name === selected} onClick={() => select(name)} />)}\n      </ModifiersGroup>\n    </DemoBlock>;\n}",...Color.parameters?.docs?.source}}},Image.parameters={...Image.parameters,docs:{...Image.parameters?.docs,source:{originalSource:"() => {\n  const images: string[] = ['https://picsum.photos/50', 'https://picsum.photos/60', 'https://picsum.photos/70', 'https://picsum.photos/80', 'https://picsum.photos/90', 'https://picsum.photos/100', 'https://picsum.photos/110', 'https://picsum.photos/120'];\n  return <DemoBlock>\n      <ModifiersGroup>\n        {images.map((src, index) => <ModifierButton key={index} type='image' image={src} content='Image' />)}\n      </ModifiersGroup>\n    </DemoBlock>;\n}",...Image.parameters?.docs?.source}}};const __namedExportsOrder=["Text","Color","Image"]},"./src/common/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>MODIFIER_TYPE});const MODIFIER_TYPE={text:"text",image:"image",color:"color"}},"./src/desktop/components/modifiers/button/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>ModifierButton});var react=__webpack_require__("./node_modules/react/index.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),modifier_button_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/modifiers/button/modifier-button.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(modifier_button_module.Z,options);const button_modifier_button_module=modifier_button_module.Z&&modifier_button_module.Z.locals?modifier_button_module.Z.locals:void 0;var bind=__webpack_require__("./node_modules/classnames/bind.js"),bind_default=__webpack_require__.n(bind),constants=__webpack_require__("./src/common/constants.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const cx=bind_default().bind(button_modifier_button_module),ModifierButton=(0,react.forwardRef)((function ModifierButton({count=null,content,selected,color,image,type="text",className,style,onClick,isMarkdown:hasMarkdown,squared=[constants.h.color,constants.h.image].includes(type),"data-testid":testId="modifier-button"},ref){const hasCount=(0,lodash.isNumber)(count)&&count>=0;return(0,jsx_runtime.jsxs)("div",{ref,className:cx("modifier-button",squared&&"squared",selected&&"selected",className),style:color?{...style,background:color}:style,onClick,"data-testid":testId,children:[(hasCount||hasMarkdown)&&(0,jsx_runtime.jsxs)("span",{className:cx("label",hasCount&&"with-count"),"data-testid":"modifier-button:badge",children:[hasCount&&(count>99?"99+":count),hasMarkdown&&(hasCount?"(У)":"У")]}),[constants.h.text,constants.h.image].includes(type)&&(0,jsx_runtime.jsxs)("div",{className:cx("content"),children:[type===constants.h.text&&(0,jsx_runtime.jsx)("span",{className:cx("text",!squared&&"guttered"),children:String(content||"")}),type===constants.h.image&&(0,jsx_runtime.jsx)("img",{src:image,alt:content,className:cx("image")})]})]})}));try{ModifierButton.displayName="ModifierButton",ModifierButton.__docgenInfo={description:"Компонент модификатора.",displayName:"ModifierButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLDivElement> | undefined"}},squared:{defaultValue:{value:"[TYPE.color, TYPE.image].includes(type)"},description:"",name:"squared",required:!1,type:{name:"boolean | undefined"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string | undefined"}},count:{defaultValue:{value:"null"},description:"",name:"count",required:!1,type:{name:"number | undefined"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string | undefined"}},image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string | undefined"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"text"'},{value:'"color"'},{value:'"image"'}]}},isMarkdown:{defaultValue:null,description:"",name:"isMarkdown",required:!1,type:{name:"boolean | undefined"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/desktop/components/modifiers/button/index.tsx#ModifierButton"]={docgenInfo:ModifierButton.__docgenInfo,name:"ModifierButton",path:"src/desktop/components/modifiers/button/index.tsx#ModifierButton"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/modifiers/button/modifier-button.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.modifier-button-module__shadow-z1__bcd,.modifier-button-module__label__de2:not(.modifier-button-module__with-count__ba4){box-shadow:0 0 4px rgba(0,0,0,.04),0 2px 4px rgba(0,0,0,.08)}.modifier-button-module__shadow-z2__e19{box-shadow:0 0 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.1)}.modifier-button-module__shadow-z2-straight__d9b{box-shadow:0 0 15px rgba(0,0,0,.12)}.modifier-button-module__shadow-z3__ff0{box-shadow:0 8px 16px rgba(0,0,0,.08),0 0 4px rgba(0,0,0,.04)}.modifier-button-module__shadow-z4__afb{box-shadow:0 0 4px rgba(0,0,0,.04),0 12px 30px rgba(0,0,0,.1)}.modifier-button-module__modifier-button__fc3{max-width:100%;position:relative;display:inline-block;font-size:0;line-height:0;border-radius:4px;min-width:48px;height:48px;cursor:pointer}.modifier-button-module__modifier-button__fc3.modifier-button-module__squared__b45{width:48px}.modifier-button-module__modifier-button__fc3::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;box-shadow:inset 0 0 0 1px #e0e0e0}.modifier-button-module__modifier-button__fc3:hover::before{box-shadow:inset 0 0 0 2px #e0e0e0}.modifier-button-module__modifier-button__fc3.modifier-button-module__selected__b7d::before{box-shadow:inset 0 0 0 2px #1f84db}.modifier-button-module__content__f7c{display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:inherit;height:100%}.modifier-button-module__image__ed2{display:block;width:auto;height:calc(100% - 2px)}.modifier-button-module__text__fa5{font-size:14px;line-height:20px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.modifier-button-module__text__fa5.modifier-button-module__guttered__e25{margin:0 16px}.modifier-button-module__label__de2{position:absolute;top:-4px;right:-4px;display:block;min-width:16px;height:16px;text-align:center;padding:0 4px;line-height:16px;border-radius:32px;background-color:#fff;color:#757575;font-size:12px;font-weight:600;box-sizing:border-box}.modifier-button-module__label__de2.modifier-button-module__with-count__ba4{background-color:#1f84db;color:#fff}',"",{version:3,sources:["webpack://./node_modules/@sima-land/ui-nucleons/styling/shadows.module.scss","webpack://./src/desktop/components/modifiers/button/modifier-button.module.scss","webpack://./src/desktop/components/modifiers/modifiers.scss","webpack://./node_modules/@sima-land/ui-nucleons/colors.scss"],names:[],mappings:"AAAA,0HACE,4DAAA,CAGF,wCACE,2DAAA,CAGF,iDACE,mCAAA,CAGF,wCACE,6DAAA,CAGF,wCACE,6DAAA,CCbF,8CACE,cAAA,CACA,iBAAA,CACA,oBAAA,CACA,WAAA,CACA,aAAA,CACA,iBAAA,CACA,cCPQ,CDQR,WCRQ,CDSR,cAAA,CACA,mFACE,UCXM,CDaR,sDACE,UAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,kCAAA,CAEF,4DACE,kCAAA,CAEF,4FACE,kCAAA,CAIJ,sCACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,qBAAA,CACA,WAAA,CAGF,oCACE,aAAA,CACA,UAAA,CACA,uBAAA,CAGF,mCACE,cAAA,CACA,gBAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,yEACE,aAAA,CAIJ,oCACE,iBAAA,CACA,QAAA,CACA,UAAA,CACA,aAAA,CACA,cAAA,CACA,WAAA,CACA,iBAAA,CACA,aAAA,CACA,gBAAA,CACA,kBAAA,CACA,qBAAA,CACA,aElEa,CFmEb,cAAA,CACA,eAAA,CACA,qBAAA,CACA,4EACE,wBE3ES,CF4ET,UAAA",sourcesContent:[".shadow-z1 {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.04), 0 2px 4px rgba(0, 0, 0, 0.08);\n}\n\n.shadow-z2 {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.04), 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.shadow-z2-straight {\n  box-shadow: 0 0 15px rgba(0, 0, 0, 0.12);\n}\n\n.shadow-z3 {\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08), 0 0 4px rgba(0, 0, 0, 0.04);\n}\n\n.shadow-z4 {\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.04), 0 12px 30px rgba(0, 0, 0, 0.1);\n}\n","@use 'node_modules/@sima-land/ui-nucleons/colors';\n@import 'node_modules/@sima-land/ui-nucleons/styling/shadows.module';\n@import '../modifiers';\n\n.modifier-button {\n  max-width: 100%;\n  position: relative;\n  display: inline-block;\n  font-size: 0;\n  line-height: 0;\n  border-radius: 4px;\n  min-width: $minSize;\n  height: $minSize;\n  cursor: pointer;\n  &.squared {\n    width: $minSize;\n  }\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n    box-shadow: inset 0 0 0 1px colors.$basic-gray12;\n  }\n  &:hover::before {\n    box-shadow: inset 0 0 0 2px colors.$basic-gray12;\n  }\n  &.selected::before {\n    box-shadow: inset 0 0 0 2px colors.$basic-blue;\n  }\n}\n\n.content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: inherit;\n  height: 100%;\n}\n\n.image {\n  display: block;\n  width: auto;\n  height: calc(100% - 2px);\n}\n\n.text {\n  font-size: 14px;\n  line-height: 20px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  &.guttered {\n    margin: 0 16px;\n  }\n}\n\n.label {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  display: block;\n  min-width: 16px;\n  height: 16px;\n  text-align: center;\n  padding: 0 4px;\n  line-height: 16px;\n  border-radius: 32px;\n  background-color: #fff;\n  color: colors.$basic-gray54;\n  font-size: 12px;\n  font-weight: 600;\n  box-sizing: border-box;\n  &.with-count {\n    background-color: colors.$basic-blue;\n    color: #fff;\n  }\n  &:not(.with-count) {\n    @extend .shadow-z1;\n  }\n}\n","// внешний отступ вокруг каждого элемента группы\n$gutter: 4px;\n\n// размер квадратного модификатора\n$minSize: 48px;\n\n// максимальная высота блока с ограничением в 2 строки\n$groupMaxHeight: ($minSize * 2) + ($gutter * 4);\n","// GENERATED FILE - DO NOT CHANGE IT MANUALLY\n\n// basic\n$basic-blue: #1f84db;\n$basic-gray87: #212121;\n$basic-gray76: #3a3a3b;\n$basic-gray66: #545455;\n$basic-gray54: #757575;\n$basic-gray38: #9e9e9e;\n$basic-gray24: #c2c2c2;\n$basic-gray12: #e0e0e0;\n$basic-gray8: #ebebeb;\n$basic-gray4: #f5f5f5;\n$basic-gray2: #fafafa;\n$basic-white: #fff;\n\n// additional\n$additional-deep-red: #d50000;\n$additional-red: #fb3a2f;\n$additional-light-red: #feebea;\n$additional-dark-teal: #089176;\n$additional-teal: #09ab8b;\n$additional-green: #00c853;\n$additional-light-green: #64dd17;\n$additional-lime: #aeea00;\n$additional-faded-green: #eff9ea;\n$additional-pink: #e82e5c;\n$additional-purple: #b52ea8;\n$additional-violet: #902bd0;\n$additional-deep-purple: #634bdf;\n$additional-electric-blue: #2962ff;\n$additional-light-blue: #0091ea;\n$additional-cyan: #00b8d4;\n$additional-sky: #e4f1f9;\n$additional-deep-orange: #ff7200;\n$additional-amber: #ffab00;\n$additional-yellow: #ffd600;\n$additional-gold: #d5a43b;\n$additional-brown: #795548;\n$additional-blue-gray: #607d8b;\n$additional-deep-blue: #00599d;\n$additional-dark-blue: #002b41;\n$additional-unlit-blue: #1b75c2;\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"shadow-z1":"modifier-button-module__shadow-z1__bcd",label:"modifier-button-module__label__de2","with-count":"modifier-button-module__with-count__ba4","shadow-z2":"modifier-button-module__shadow-z2__e19","shadow-z2-straight":"modifier-button-module__shadow-z2-straight__d9b","shadow-z3":"modifier-button-module__shadow-z3__ff0","shadow-z4":"modifier-button-module__shadow-z4__afb","modifier-button":"modifier-button-module__modifier-button__fc3",squared:"modifier-button-module__squared__b45",selected:"modifier-button-module__selected__b7d",content:"modifier-button-module__content__f7c",image:"modifier-button-module__image__ed2",text:"modifier-button-module__text__fa5",guttered:"modifier-button-module__guttered__e25"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/desktop/components/modifiers/group/modifiers-group.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".modifiers-group-module__root__b96{position:relative;display:flex;flex-wrap:wrap;flex-direction:row;margin:-4px;font-size:0;overflow:hidden}.modifiers-group-module__root__b96:not(.modifiers-group-module__opened__a51){max-height:112px}.modifiers-group-module__item__e19{height:48px;margin:4px;max-width:100%}.modifiers-group-module__item__e19.modifiers-group-module__hidden__b71{display:none}.modifiers-group-module__item__e19.modifiers-group-module__invisible__c08{opacity:0;cursor:default;pointer-events:none}.modifiers-group-module__opener__d15{color:#1f84db}","",{version:3,sources:["webpack://./src/desktop/components/modifiers/group/modifiers-group.module.scss","webpack://./src/desktop/components/modifiers/modifiers.scss","webpack://./node_modules/@sima-land/ui-nucleons/colors.scss"],names:[],mappings:"AAGA,mCACE,iBAAA,CACA,YAAA,CACA,cAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,eAAA,CACA,6EACE,gBCLa,CDSjB,mCACE,WCbQ,CDcR,UCjBO,CDkBP,cAAA,CACA,uEACE,YAAA,CAEF,0EACE,SAAA,CACA,cAAA,CACA,mBAAA,CAIJ,qCACE,aE5BW",sourcesContent:["@use 'node_modules/@sima-land/ui-nucleons/colors';\n@use '../modifiers';\n\n.root {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin: -#{modifiers.$gutter};\n  font-size: 0;\n  overflow: hidden;\n  &:not(.opened) {\n    max-height: modifiers.$groupMaxHeight;\n  }\n}\n\n.item {\n  height: modifiers.$minSize;\n  margin: modifiers.$gutter;\n  max-width: 100%;\n  &.hidden {\n    display: none;\n  }\n  &.invisible {\n    opacity: 0;\n    cursor: default;\n    pointer-events: none;\n  }\n}\n\n.opener {\n  color: colors.$basic-blue;\n}\n","// внешний отступ вокруг каждого элемента группы\n$gutter: 4px;\n\n// размер квадратного модификатора\n$minSize: 48px;\n\n// максимальная высота блока с ограничением в 2 строки\n$groupMaxHeight: ($minSize * 2) + ($gutter * 4);\n","// GENERATED FILE - DO NOT CHANGE IT MANUALLY\n\n// basic\n$basic-blue: #1f84db;\n$basic-gray87: #212121;\n$basic-gray76: #3a3a3b;\n$basic-gray66: #545455;\n$basic-gray54: #757575;\n$basic-gray38: #9e9e9e;\n$basic-gray24: #c2c2c2;\n$basic-gray12: #e0e0e0;\n$basic-gray8: #ebebeb;\n$basic-gray4: #f5f5f5;\n$basic-gray2: #fafafa;\n$basic-white: #fff;\n\n// additional\n$additional-deep-red: #d50000;\n$additional-red: #fb3a2f;\n$additional-light-red: #feebea;\n$additional-dark-teal: #089176;\n$additional-teal: #09ab8b;\n$additional-green: #00c853;\n$additional-light-green: #64dd17;\n$additional-lime: #aeea00;\n$additional-faded-green: #eff9ea;\n$additional-pink: #e82e5c;\n$additional-purple: #b52ea8;\n$additional-violet: #902bd0;\n$additional-deep-purple: #634bdf;\n$additional-electric-blue: #2962ff;\n$additional-light-blue: #0091ea;\n$additional-cyan: #00b8d4;\n$additional-sky: #e4f1f9;\n$additional-deep-orange: #ff7200;\n$additional-amber: #ffab00;\n$additional-yellow: #ffd600;\n$additional-gold: #d5a43b;\n$additional-brown: #795548;\n$additional-blue-gray: #607d8b;\n$additional-deep-blue: #00599d;\n$additional-dark-blue: #002b41;\n$additional-unlit-blue: #1b75c2;\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={root:"modifiers-group-module__root__b96",opened:"modifiers-group-module__opened__a51",item:"modifiers-group-module__item__e19",hidden:"modifiers-group-module__hidden__b71",invisible:"modifiers-group-module__invisible__c08",opener:"modifiers-group-module__opener__d15"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);